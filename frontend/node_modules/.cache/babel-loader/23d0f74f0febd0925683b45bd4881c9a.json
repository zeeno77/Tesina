{"ast":null,"code":"var _jsxFileName = \"/home/juan/Programas/Tesina/repo/frontend/src/index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { RadialGauge } from 'react-canvas-gauges';\nimport './style.css';\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n  componentDidMount() {\n    let currentTemp = 0,\n      currentHumidity = 0,\n      json = \"\",\n      auxTemp = -999,\n      auxHumidity = -999;\n    this.interval = setInterval(() => {\n      fetch(\"http://localhost:8000/muestra/sensor/Temperatura\").then(response => response.json().then(data => ({\n        data: data,\n        status: response.status\n      })).then(res => {\n        auxTemp = parseFloat(res.data.valor);\n        if (auxTemp != -999) {\n          currentTemp = auxTemp;\n        }\n        json = res.data;\n        console.log(res.status, res.data);\n      }));\n      fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(response => response.json().then(data => ({\n        data: data,\n        status: response.status\n      })).then(res => {\n        auxHumidity = parseFloat(res.data.valor);\n        if (auxHumidity != -999) {\n          currentHumidity = auxHumidity;\n        }\n        json = res.data;\n        console.log(res.status, res.data);\n      }));\n      console.log(\"valor: \");\n      console.log(currentTemp);\n      console.log(\"json: \");\n      console.log(json);\n      this.setState({\n        temperature: currentTemp,\n        humidity: currentHumidity\n      });\n    }, 5000);\n  }\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(RadialGauge, {\n      \"data-width\": \"300\",\n      \"data-height\": \"300\",\n      units: \"\\xB0C\",\n      title: \"Temperatura\",\n      value: this.state.temperature,\n      minValue: 0,\n      maxValue: 45,\n      majorTicks: ['0', '5', '15', '20', '25', '30', '35', '40', '45'],\n      minorTicks: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(RadialGauge, {\n      \"data-width\": \"300\",\n      \"data-height\": \"300\",\n      units: \"%\",\n      title: \"Humedad\",\n      value: this.state.humidity,\n      minValue: 0,\n      maxValue: 100,\n      majorTicks: ['0', '10', '20', '30', '40', '50', '60', '70', '80', '90', '100'],\n      minorTicks: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    })));\n  }\n}\nrender( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 8\n  }\n}), document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","RadialGauge","App","constructor","state","name","componentDidMount","currentTemp","currentHumidity","json","auxTemp","auxHumidity","interval","setInterval","fetch","then","response","data","status","res","parseFloat","valor","console","log","setState","temperature","humidity","componentWillUnmount","clearInterval","document","getElementById"],"sources":["/home/juan/Programas/Tesina/repo/frontend/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {RadialGauge} from 'react-canvas-gauges';\nimport './style.css';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  componentDidMount() {\n    \n    let currentTemp = 0, currentHumidity = 0, json= \"\", auxTemp= -999,auxHumidity= -999;\n\n    this.interval = setInterval(()=>{\n        \n        fetch(\"http://localhost:8000/muestra/sensor/Temperatura\").then(response => \n          response.json().then(data => ({\n              data: data,\n              status: response.status\n          })\n      ).then(res => {\n          auxTemp = parseFloat(res.data.valor)\n          if(auxTemp != -999){\n            currentTemp = auxTemp\n          }\n          json = res.data\n          console.log(res.status, res.data)\n      }));\n      \n      fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(response => \n      response.json().then(data => ({\n          data: data,\n          status: response.status\n      })\n      ).then(res => {\n        auxHumidity = parseFloat(res.data.valor)\n      if(auxHumidity != -999){\n        currentHumidity = auxHumidity\n      }\n      json = res.data\n      console.log(res.status, res.data)\n    }));\n\n        \n        console.log(\"valor: \" )\n        console.log(currentTemp)\n        console.log(\"json: \" )\n        console.log(json)\n\n        this.setState({\n          temperature : currentTemp,\n          humidity : currentHumidity\n        })\n\n    }, 5000);\n    \n  \n  }\n\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div>\n        <RadialGauge\n           data-width='300'\n           data-height='300'\n           units='Â°C'\n           title='Temperatura'\n           value={this.state.temperature}\n           minValue={0}\n           maxValue={45}\n           majorTicks={['0', '5', '15', '20', '25', '30', '35', '40', '45']}\n           minorTicks={1}\n        ></RadialGauge>\n      </div>\n    <div>\n      <RadialGauge\n         data-width='300'\n         data-height='300'\n         units='%'\n         title='Humedad'\n         value={this.state.humidity}\n         minValue={0}\n         maxValue={100}\n         majorTicks={['0', '10', '20', '30', '40', '50', '60', '70', '80','90','100']}\n         minorTicks={1}\n      ></RadialGauge>\n    </div>\n\n      </div>\n      \n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}