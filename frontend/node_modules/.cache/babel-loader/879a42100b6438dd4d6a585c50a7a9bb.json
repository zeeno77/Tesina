{"ast":null,"code":"var _jsxFileName = \"/home/juan/Programas/Tesina/repo/frontend/src/index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { RadialGauge } from 'react-canvas-gauges';\nimport './style.css';\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n  componentDidMount() {\n    const newLimit = () => {\n      return Math.random() * 50;\n    };\n    let limit = newLimit();\n    let currentTemp = 0,\n      directionUp = true;\n    this.interval = setInterval(() => {\n      //currentTemp = directionUp ? (currentTemp + 1): (currentTemp - 1);\n      currentTemp = fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(handleResponse);\n\n      //.then((response) => response.json())\n\n      if (currentTemp >= limit && directionUp || currentTemp <= limit && !directionUp) {\n        let nextLimit = newLimit();\n        if (nextLimit < currentTemp) {\n          directionUp = false;\n        } else {\n          directionUp = true;\n        }\n      }\n      console.log(\"json: \");\n      console.log(currentTemp);\n      console.log(\"value: \");\n      console.log(currentTemp);\n    }, 200);\n  }\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RadialGauge, {\n      units: \"\\xB0C\",\n      title: \"Temperature\",\n      value: this.state.temperature,\n      minValue: 0,\n      maxValue: 50,\n      majorTicks: ['0', '5', '15', '20', '25', '30', '35', '40', '45', '50'],\n      minorTicks: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n    if (!response.ok) {\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n    return data;\n  });\n}\nrender( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 8\n  }\n}), document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","RadialGauge","App","constructor","state","name","componentDidMount","newLimit","Math","random","limit","currentTemp","directionUp","interval","setInterval","fetch","then","handleResponse","nextLimit","console","log","componentWillUnmount","clearInterval","temperature","response","text","data","JSON","parse","ok","error","message","statusText","Promise","reject","document","getElementById"],"sources":["/home/juan/Programas/Tesina/repo/frontend/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {RadialGauge} from 'react-canvas-gauges';\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  componentDidMount() {\n    const newLimit = () => {\n      return Math.random() * 50\n    }\n    let limit = newLimit();\n    let currentTemp = 0, directionUp = true;\n\n    this.interval = setInterval(()=> {\n        //currentTemp = directionUp ? (currentTemp + 1): (currentTemp - 1);\n        currentTemp = fetch(\"http://localhost:8000/muestra/sensor/Humedad\")\n        .then(handleResponse)\n        \n        //.then((response) => response.json())\n        \n        \n        if (((currentTemp >= limit) && directionUp) || \n        ((currentTemp <= limit) && !directionUp)) {\n          let nextLimit = newLimit();\n          if (nextLimit < currentTemp) {\n            directionUp = false;\n          }\n          else {\n            directionUp = true;\n          }\n        }\n\n        \n        console.log(\"json: \" )\n        console.log(currentTemp)\n        console.log(\"value: \" )\n        console.log(currentTemp)\n\n    }, 200);\n  }\n\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <RadialGauge\n   units='Â°C'\n   title='Temperature'\n   value={this.state.temperature}\n   minValue={0}\n   maxValue={50}\n   majorTicks={['0', '5', '15', '20', '25', '30', '35', '40', '45', '50']}\n   minorTicks={2}\n></RadialGauge>\n      </div>\n    );\n  }\n}\n\nfunction handleResponse(response) {\n  return response.text().then(text => {\n      const data = text && JSON.parse(text);\n      \n      if (!response.ok) {\n          const error = (data && data.message) || response.statusText;\n          return Promise.reject(error);\n      }\n\n      return data;\n  });\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,MAAM,QAAQ,WAAW;AAClC,SAAQC,WAAW,QAAO,qBAAqB;AAC/C,OAAO,aAAa;AAEpB,MAAMC,GAAG,SAASH,SAAS,CAAC;EAC1BI,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,KAAK,GAAG;MACXC,IAAI,EAAE;IACR,CAAC;EACH;EAEAC,iBAAiB,GAAG;IAClB,MAAMC,QAAQ,GAAG,MAAM;MACrB,OAAOC,IAAI,CAACC,MAAM,EAAE,GAAG,EAAE;IAC3B,CAAC;IACD,IAAIC,KAAK,GAAGH,QAAQ,EAAE;IACtB,IAAII,WAAW,GAAG,CAAC;MAAEC,WAAW,GAAG,IAAI;IAEvC,IAAI,CAACC,QAAQ,GAAGC,WAAW,CAAC,MAAK;MAC7B;MACAH,WAAW,GAAGI,KAAK,CAAC,8CAA8C,CAAC,CAClEC,IAAI,CAACC,cAAc,CAAC;;MAErB;;MAGA,IAAMN,WAAW,IAAID,KAAK,IAAKE,WAAW,IACxCD,WAAW,IAAID,KAAK,IAAK,CAACE,WAAY,EAAE;QACxC,IAAIM,SAAS,GAAGX,QAAQ,EAAE;QAC1B,IAAIW,SAAS,GAAGP,WAAW,EAAE;UAC3BC,WAAW,GAAG,KAAK;QACrB,CAAC,MACI;UACHA,WAAW,GAAG,IAAI;QACpB;MACF;MAGAO,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAE;MACtBD,OAAO,CAACC,GAAG,CAACT,WAAW,CAAC;MACxBQ,OAAO,CAACC,GAAG,CAAC,SAAS,CAAE;MACvBD,OAAO,CAACC,GAAG,CAACT,WAAW,CAAC;IAE5B,CAAC,EAAE,GAAG,CAAC;EACT;EAEAU,oBAAoB,GAAG;IACrB,IAAI,IAAI,CAACR,QAAQ,EAAE;MACjBS,aAAa,CAAC,IAAI,CAACT,QAAQ,CAAC;IAC9B;EACF;EAEAb,MAAM,GAAG;IACP,oBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,WAAW;MACjB,KAAK,EAAC,OAAI;MACV,KAAK,EAAC,aAAa;MACnB,KAAK,EAAE,IAAI,CAACI,KAAK,CAACmB,WAAY;MAC9B,QAAQ,EAAE,CAAE;MACZ,QAAQ,EAAE,EAAG;MACb,UAAU,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE;MACvE,UAAU,EAAE,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACF,CACH;EAEV;AACF;AAEA,SAASN,cAAc,CAACO,QAAQ,EAAE;EAChC,OAAOA,QAAQ,CAACC,IAAI,EAAE,CAACT,IAAI,CAACS,IAAI,IAAI;IAChC,MAAMC,IAAI,GAAGD,IAAI,IAAIE,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;IAErC,IAAI,CAACD,QAAQ,CAACK,EAAE,EAAE;MACd,MAAMC,KAAK,GAAIJ,IAAI,IAAIA,IAAI,CAACK,OAAO,IAAKP,QAAQ,CAACQ,UAAU;MAC3D,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;IAChC;IAEA,OAAOJ,IAAI;EACf,CAAC,CAAC;AACJ;AAEA1B,MAAM,eAAC,oBAAC,GAAG;EAAA;EAAA;IAAA;IAAA;IAAA;EAAA;AAAA,EAAG,EAAEmC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC"},"metadata":{},"sourceType":"module"}