{"ast":null,"code":"import _classCallCheck from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{render}from'react-dom';import{RadialGauge}from'react-canvas-gauges';import'./style.css';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={name:'React'};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var currentTemp=0,currentHumidity=0,json=\"\",auxTemp=-999,auxHumidity=-999;this.interval=setInterval(function(){fetch(\"http://localhost:8000/muestra/sensor/Temperatura\").then(function(response){return response.json().then(function(data){return{data:data,status:response.status};}).then(function(res){auxTemp=parseFloat(res.data.valor);if(auxTemp!=-999){currentTemp=auxTemp;}json=res.data;console.log(res.status,res.data);});});fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(function(response){return response.json().then(function(data){return{data:data,status:response.status};}).then(function(res){auxHumidity=parseFloat(res.data.valor);if(auxHumidity!=-999){currentHumidity=auxHumidity;}json=res.data;console.log(res.status,res.data);});});console.log(\"valor: \");console.log(currentTemp);console.log(\"json: \");console.log(json);_this2.setState({temperature:currentTemp,humidity:currentHumidity});},5000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.interval){clearInterval(this.interval);}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(RadialGauge,{\"data-width\":\"300\",\"data-height\":\"300\",units:\"\\xB0C\",title:\"Temperatura\",value:this.state.temperature,minValue:0,maxValue:45,majorTicks:['0','5','15','20','25','30','35','40','45'],minorTicks:1})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(RadialGauge,{\"data-width\":\"300\",\"data-height\":\"300\",units:\"%\",title:\"Humedad\",value:this.state.humidity,minValue:0,maxValue:100,majorTicks:['0','10','20','30','40','50','60','70','80','90','100'],minorTicks:1})))));}}]);return App;}(Component);render(/*#__PURE__*/React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","RadialGauge","Container","Row","Col","App","state","name","currentTemp","currentHumidity","json","auxTemp","auxHumidity","interval","setInterval","fetch","then","response","data","status","res","parseFloat","valor","console","log","setState","temperature","humidity","clearInterval","document","getElementById"],"sources":["/home/juan/Programas/Tesina/repo/frontend/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {RadialGauge} from 'react-canvas-gauges';\nimport './style.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  componentDidMount() {\n    \n    let currentTemp = 0, currentHumidity = 0, json= \"\", auxTemp= -999,auxHumidity= -999;\n\n    this.interval = setInterval(()=>{\n        \n        fetch(\"http://localhost:8000/muestra/sensor/Temperatura\").then(response => \n          response.json().then(data => ({\n              data: data,\n              status: response.status\n          })\n      ).then(res => {\n          auxTemp = parseFloat(res.data.valor)\n          if(auxTemp != -999){\n            currentTemp = auxTemp\n          }\n          json = res.data\n          console.log(res.status, res.data)\n      }));\n      \n      fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(response => \n      response.json().then(data => ({\n          data: data,\n          status: response.status\n      })\n      ).then(res => {\n        auxHumidity = parseFloat(res.data.valor)\n      if(auxHumidity != -999){\n        currentHumidity = auxHumidity\n      }\n      json = res.data\n      console.log(res.status, res.data)\n    }));\n\n        \n        console.log(\"valor: \" )\n        console.log(currentTemp)\n        console.log(\"json: \" )\n        console.log(json)\n\n        this.setState({\n          temperature : currentTemp,\n          humidity : currentHumidity\n        })\n\n    }, 5000);\n    \n  \n  }\n\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n      <Container>\n      <Row>\n        <Col>\n        <RadialGauge\n           data-width='300'\n           data-height='300'\n           units='Â°C'\n           title='Temperatura'\n           value={this.state.temperature}\n           minValue={0}\n           maxValue={45}\n           majorTicks={['0', '5', '15', '20', '25', '30', '35', '40', '45']}\n           minorTicks={1}\n        ></RadialGauge>\n        </Col>\n        <Col><RadialGauge\n         data-width='300'\n         data-height='300'\n         units='%'\n         title='Humedad'\n         value={this.state.humidity}\n         minValue={0}\n         maxValue={100}\n         majorTicks={['0', '10', '20', '30', '40', '50', '60', '70', '80','90','100']}\n         minorTicks={1}\n      ></RadialGauge>\n      </Col>\n      </Row>\n    </Container>\n    </div>  \n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}