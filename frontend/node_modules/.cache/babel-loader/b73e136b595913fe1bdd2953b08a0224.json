{"ast":null,"code":"import _classCallCheck from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/juan/Programas/Tesina/repo/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{render}from'react-dom';import{RadialGauge}from'react-canvas-gauges';import'./style.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={name:'React'};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var newLimit=function newLimit(){return Math.random()*50;};var limit=newLimit();var currentTemp=0,directionUp=true;this.interval=setInterval(function(){//currentTemp = directionUp ? (currentTemp + 1): (currentTemp - 1);\n//currentTemp = fetch(\"http://localhost:8000/muestra/sensor/Humedad\")\nfetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(function(response){return response.json().then(function(data){return{data:data,status:response.status};}).then(function(res){currentTemp=res.data.valor;console.log(res.status,res.data);});});if(currentTemp>=limit&&directionUp||currentTemp<=limit&&!directionUp){var nextLimit=newLimit();if(nextLimit<currentTemp){directionUp=false;}else{directionUp=true;}}console.log(\"json: \");console.log(currentTemp);},200);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.interval){clearInterval(this.interval);}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(RadialGauge,{units:\"\\xB0C\",title:\"Temperature\",value:this.state.temperature,minValue:0,maxValue:50,majorTicks:['0','5','15','20','25','30','35','40','45','50'],minorTicks:2}));}}]);return App;}(Component);render(/*#__PURE__*/React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","RadialGauge","App","state","name","newLimit","Math","random","limit","currentTemp","directionUp","interval","setInterval","fetch","then","response","json","data","status","res","valor","console","log","nextLimit","clearInterval","temperature","document","getElementById"],"sources":["/home/juan/Programas/Tesina/repo/frontend/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport {RadialGauge} from 'react-canvas-gauges';\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  componentDidMount() {\n    const newLimit = () => {\n      return Math.random() * 50\n    }\n    let limit = newLimit();\n    let currentTemp = 0, directionUp = true;\n\n    this.interval = setInterval(()=> {\n        //currentTemp = directionUp ? (currentTemp + 1): (currentTemp - 1);\n        //currentTemp = fetch(\"http://localhost:8000/muestra/sensor/Humedad\")\n        \n        fetch(\"http://localhost:8000/muestra/sensor/Humedad\").then(response => \n          response.json().then(data => ({\n              data: data,\n              status: response.status\n          })\n      ).then(res => {\n          currentTemp = res.data.valor\n          console.log(res.status, res.data)\n      }));\n        \n        if (((currentTemp >= limit) && directionUp) || \n        ((currentTemp <= limit) && !directionUp)) {\n          let nextLimit = newLimit();\n          if (nextLimit < currentTemp) {\n            directionUp = false;\n          }\n          else {\n            directionUp = true;\n          }\n        }\n\n        \n        console.log(\"json: \" )\n        console.log(currentTemp)\n\n    }, 200);\n  }\n\n  componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <RadialGauge\n   units='Â°C'\n   title='Temperature'\n   value={this.state.temperature}\n   minValue={0}\n   maxValue={50}\n   majorTicks={['0', '5', '15', '20', '25', '30', '35', '40', '45', '50']}\n   minorTicks={2}\n></RadialGauge>\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"4eAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,KAAQ,WAAW,CAClC,OAAQC,WAAW,KAAO,qBAAqB,CAC/C,MAAO,aAAa,CAAC,GAEfC,IAAG,0FACP,cAAc,qCACZ,wBACA,MAAKC,KAAK,CAAG,CACXC,IAAI,CAAE,OACR,CAAC,CAAC,aACJ,CAAC,iDAED,4BAAoB,CAClB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,MAAOC,KAAI,CAACC,MAAM,EAAE,CAAG,EAAE,CAC3B,CAAC,CACD,GAAIC,MAAK,CAAGH,QAAQ,EAAE,CACtB,GAAII,YAAW,CAAG,CAAC,CAAEC,WAAW,CAAG,IAAI,CAEvC,IAAI,CAACC,QAAQ,CAAGC,WAAW,CAAC,UAAK,CAC7B;AACA;AAEAC,KAAK,CAAC,8CAA8C,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,QACjEA,SAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAAC,SAAAG,IAAI,QAAK,CAC1BA,IAAI,CAAEA,IAAI,CACVC,MAAM,CAAEH,QAAQ,CAACG,MACrB,CAAC,EAAC,CACL,CAACJ,IAAI,CAAC,SAAAK,GAAG,CAAI,CACVV,WAAW,CAAGU,GAAG,CAACF,IAAI,CAACG,KAAK,CAC5BC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACD,MAAM,CAAEC,GAAG,CAACF,IAAI,CAAC,CACrC,CAAC,CAAC,GAAC,CAED,GAAMR,WAAW,EAAID,KAAK,EAAKE,WAAW,EACxCD,WAAW,EAAID,KAAK,EAAK,CAACE,WAAY,CAAE,CACxC,GAAIa,UAAS,CAAGlB,QAAQ,EAAE,CAC1B,GAAIkB,SAAS,CAAGd,WAAW,CAAE,CAC3BC,WAAW,CAAG,KAAK,CACrB,CAAC,IACI,CACHA,WAAW,CAAG,IAAI,CACpB,CACF,CAGAW,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAE,CACtBD,OAAO,CAACC,GAAG,CAACb,WAAW,CAAC,CAE5B,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,oCAED,+BAAuB,CACrB,GAAI,IAAI,CAACE,QAAQ,CAAE,CACjBa,aAAa,CAAC,IAAI,CAACb,QAAQ,CAAC,CAC9B,CACF,CAAC,sBAED,iBAAS,CACP,mBACE,4CACE,oBAAC,WAAW,EACjB,KAAK,CAAC,OAAI,CACV,KAAK,CAAC,aAAa,CACnB,KAAK,CAAE,IAAI,CAACR,KAAK,CAACsB,WAAY,CAC9B,QAAQ,CAAE,CAAE,CACZ,QAAQ,CAAE,EAAG,CACb,UAAU,CAAE,CAAC,GAAG,CAAE,GAAG,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,CACvE,UAAU,CAAE,CAAE,EACF,CACH,CAEV,CAAC,iBAnEe1B,SAAS,EAsE3BC,MAAM,cAAC,oBAAC,GAAG,MAAG,CAAE0B,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC"},"metadata":{},"sourceType":"module"}